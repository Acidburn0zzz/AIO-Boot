function escreturn {
	echo
	echo -n "${escreturnl}"
	sleep -i -v 60
}

function esccont {
	echo
	echo -n "${esccontl}"
	sleep -i 9999
}

function escctrl {
	if keystatus --ctrl; then
		configfile ${prefix}/Main.cfg
	fi
}

function linuxefi {
	linux $@
}

function initrdefi {
	initrd $@
}

function WimBoot {
	menuentry "${1}" "${2}" {
		echo "${loading}... ${plswait}".
		linux16		/AIO/WinPXE/wimboot
		initrd16	\
			newc:bootmgr:/AIO/WinPXE/bootmgr	\
			newc:bootmgr.exe:/AIO/WinPXE/bootmgr.exe	\
			newc:bcd:/AIO/WinPXE/boot/bcd	\
			newc:segmono_boot.ttf:/AIO/WinPXE/boot/fonts/segmono_boot.ttf	\
			newc:segoe_slboot.ttf:/AIO/WinPXE/boot/fonts/segoe_slboot.ttf	\
			newc:segoen_slboot.ttf:/AIO/WinPXE/boot/fonts/segoen_slboot.ttf	\
			newc:wgl4_boot.ttf:/AIO/WinPXE/boot/fonts/wgl4_boot.ttf	\
			newc:boot.sdi:/AIO/WinPXE/boot/boot.sdi	\
			newc:boot.wim:${2}
	}
}

function WinLegacy {
	probe $root -p --set=scheme
	if [ "${scheme}" == "msdos" ]; then
		ntldr /AIO/Tools/MS/bootmgr
	else
		configfile /AIO/Menu/WinLegacy.cfg
	fi
}