submenu "Remix OS 32-bit" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "kernel" "/Files/Android/Remix_OS_32bit/"
	if [ -e /Files/Android/Remix_OS_32bit/kernel ]; then
		menuentry "Remix OS 32-bit - ${remixresident}" --class android-x86 {
			linux	/Files/Android/Remix_OS_32bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86 androidboot.selinux=permissive quiet SRC= DATA= CREATE_DATA_IMG=1
			initrd	/Files/Android/Remix_OS_32bit/initrd.img
		}
		menuentry "Remix OS 32-bit - ${remixguest}" --class android-x86 {
			linux	/Files/Android/Remix_OS_32bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86 androidboot.selinux=permissive quiet SRC= DATA= DATA_IN_MEM=1
			initrd	/Files/Android/Remix_OS_32bit/initrd.img
		}
		menuentry "Remix OS 32-bit - ${installhdd}" --class android-x86 {
			beforeins "Remix OS 32-bit"
			linux	/Files/Android/Remix_OS_32bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86 androidboot.selinux=permissive quiet SRC= DATA= INSTALL=1
			initrd	/Files/Android/Remix_OS_32bit/initrd.img
		}
	else
		extractc "Remix_OS_for_PC_32bit_xxx.zip" "Remix_OS_for_PC_32bit_xxx.iso" "/Files/Android/Remix_OS_32bit/" "http://www.jide.com/remixos-for-pc"
	fi
}
submenu "Remix OS 64-bit" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "kernel" "/Files/Android/Remix_OS_64bit/"
	if [ -e /Files/Android/Remix_OS_64bit/kernel ]; then
		menuentry "Remix OS 64-bit - ${remixresident}" --class android-x86 {
			linux	/Files/Android/Remix_OS_64bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86_64 androidboot.selinux=permissive quiet SRC= DATA= CREATE_DATA_IMG=1
			initrd	/Files/Android/Remix_OS_64bit/initrd.img
		}
		menuentry "Remix OS 64-bit - ${remixguest}" --class android-x86 {
			linux	/Files/Android/Remix_OS_64bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86_64 androidboot.selinux=permissive quiet SRC= DATA= DATA_IN_MEM=1
			initrd	/Files/Android/Remix_OS_64bit/initrd.img
		}
		menuentry "Remix OS 64-bit - ${installhdd}" --class android-x86 {
			beforeins "Remix OS 64-bit"
			linux	/Files/Android/Remix_OS_64bit/kernel vga=791 root=/dev/ram0 androidboot.hardware=remix_x86_64 androidboot.selinux=permissive quiet DATA= INSTALL=1
			initrd	/Files/Android/Remix_OS_64bit/initrd.img
		}
	else
		extractc "Remix_OS_for_PC_64bit_xxx.zip" "Remix_OS_for_PC_64bit_xxx.iso" "/Files/Android/Remix_OS_64bit/" "http://www.jide.com/remixos-for-pc"
	fi
}
submenu "Android-x86 v6 [32-bit]" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "system.sfs" "/Files/Android/android-x86-6/"
	if [ -e /Files/Android/android-x86-6/system.sfs ]; then
		menuentry "Android-x86 v6 - Live" --class android-x86 {
			linux	/Files/Android/android-x86-6/kernel root=/dev/ram0 androidboot.hardware=android_x86 quiet DATA=
			initrd	/Files/Android/android-x86-6/initrd.img
		}

		menuentry "Android-x86 v6 - ${debugmode}" --class android-x86 {
			linux	/Files/Android/android-x86-6/kernel root=/dev/ram0 androidboot.hardware=android_x86 DATA= DEBUG=2
			initrd	/Files/Android/android-x86-6/initrd.img
		}

		menuentry "Android-x86 v6 - ${installhdd}" --class android-x86 {
			beforeins "Android-x86 v6"
			linux	/Files/Android/android-x86-6/kernel root=/dev/ram0 androidboot.hardware=android_x86 DEBUG= INSTALL=1
			initrd	/Files/Android/android-x86-6/initrd.img
		}
	else
		extract "android-x86-6.0-rc1.iso" "/Files/Android/android-x86-6/" "http://www.android-x86.org/download"
	fi
}

submenu "Android-x86 v6 [64-bit]" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "system.sfs" "/Files/Android/android-x86_64-6/"
	if [ -e /Files/Android/android-x86_64-6/system.sfs ]; then
		menuentry "Android-x86 v6 - Live" --class android-x86 {
			linux	/Files/Android/android-x86_64-6/kernel root=/dev/ram0 androidboot.hardware=android_x86_64 quiet DATA=
			initrd	/Files/Android/android-x86_64-6/initrd.img
		}
		menuentry "Android-x86 v6 - ${debugmode}" --class android-x86 {
			linux	/Files/Android/android-x86_64-6/kernel root=/dev/ram0 androidboot.hardware=android_x86_64 DATA= DEBUG=2
			initrd	/Files/Android/android-x86_64-6/initrd.img
		}
		menuentry "Android-x86 v6 - ${installhdd}" --class android-x86 {
			beforeins "Android-x86 v6"
			linux	/Files/Android/android-x86_64-6/kernel root=/dev/ram0 androidboot.hardware=android_x86_64 DEBUG= INSTALL=1
			initrd	/Files/Android/android-x86_64-6/initrd.img
		}
	else
		extract "android-x86_64-6.0-rc1.iso" "/Files/Android/android-x86_64-6/" "http://www.android-x86.org/download"
	fi
}

submenu "Android-x86 v5 [32-bit]" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "system.sfs" "/Files/Android/android-x86-5/"
	if [ -e /Files/Android/android-x86-5/system.sfs ]; then
		menuentry "Android-x86 5 - Live" --class android-x86 {
			linux	/Files/Android/android-x86-5/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86 quiet SRC= DATA=
			initrd	/Files/Android/android-x86-5/initrd.img
		}
		menuentry "Android-x86 5 - ${vesa}" --class android-x86 {
			linux	/Files/Android/android-x86-5/kernel vga=788 root=/dev/ram0 androidboot.hardware=android_x86 quiet nomodeset SRC= DATA=
			initrd	/Files/Android/android-x86-5/initrd.img
		}
		menuentry "Android-x86 5 - ${debugmode}" --class android-x86 {
			linux	/Files/Android/android-x86-5/kernel vga=788 root=/dev/ram0 androidboot.hardware=android_x86 DEBUG=2 SRC= DATA=
			initrd	/Files/Android/android-x86-5/initrd.img
		}
		menuentry "Android-x86 5 - ${installhdd}" --class android-x86 {
			beforeins "Android-x86 v5"
			linux	/Files/Android/android-x86-5/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86 INSTALL=1 DEBUG=
			initrd	/Files/Android/android-x86-5/initrd.img
		}
	else
		extract "android-x86-5.1-rc1.iso" "/Files/Android/android-x86-5/" "http://www.android-x86.org/download"
	fi
}
submenu "Android-x86 v5 [64-bit UEFI]" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "system.sfs" "/Files/Android/android-x86_64-5/"
	if [ -e /Files/Android/android-x86_64-5/system.sfs ]; then
		menuentry 'Android-x86 5 - Live' --class android-x86 {
			linux	/Files/Android/android-x86_64-5/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86_64 quiet DATA=
			initrd	/Files/Android/android-x86_64-5/initrd.img
		}
		menuentry "Android-x86 5 - ${debugmode}" --class android-x86 {
			linux	/Files/Android/android-x86_64-5/kernel vga=788 root=/dev/ram0 androidboot.hardware=android_x86_64 DATA= DEBUG=2
			initrd	/Files/Android/android-x86_64-5/initrd.img
		}
		menuentry "Android-x86 5 - ${installhdd}" --class android-x86 {
			beforeins "Android-x86 v5"
			linux	/Files/Android/android-x86_64-5/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86_64 DEBUG= INSTALL=1
			initrd	/Files/Android/android-x86_64-5/initrd.img
		}
	else
		extract "android-x86_64-5.1-rc1.img" "/Files/Android/android-x86_64-5/" "http://www.android-x86.org/download"
	fi
}
if [ "$pc" ]; then
submenu "Android-x86 v4 [32-bit]" --class android-x86 {
	set gfxmode=1024x768
	terminal_output gfxterm
	findfile "system.sfs" "/Files/Android/android-x86-4/"
	if [ -e /Files/Android/android-x86-4/system.sfs ]; then
		menuentry "Android-x86 v4 - Live" --class android-x86 {
			linux	/Files/Android/android-x86-4/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86 quiet DATA=
			initrd	/Files/Android/android-x86-4/initrd.img
		}

		menuentry "Android-x86 v4 - ${debugmode}" --class android-x86 {
			linux	/Files/Android/android-x86-4/kernel vga=788 root=/dev/ram0 androidboot.hardware=android_x86 DATA= DEBUG=2
			initrd	/Files/Android/android-x86-4/initrd.img
		}

		menuentry "Android-x86 v4 - ${installhdd}" --class android-x86 {
			beforeins "Android-x86 v4"
			linux	/Files/Android/android-x86-4/kernel vga=791 root=/dev/ram0 androidboot.hardware=android_x86 DEBUG= INSTALL=1
			initrd	/Files/Android/android-x86-4/initrd.img
		}
	else
		extract "android-x86-4.4-r5.iso" "/Files/Android/android-x86-4/" "http://www.android-x86.org/download"
	fi
}
fi
menuentry "${backcfg} (b)" --hotkey=b {
	configfile ${prefix}/main.cfg
}