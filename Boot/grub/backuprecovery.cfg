set path="/Files/Acronis/"
export path

menuentry "[1] Acronis True Image 2016 [64-bit]" --hotkey=1 {
	set file="AcronisTrueImage2016.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/dat10.dat force_modules=usbhid quiet mbrcrcs=on
		initrd	(loop)/dat11.dat (loop)/dat12.dat
	fi
}
if [ "$pc" ]; then
menuentry "[2] Acronis True Image 2016 [32-bit]" --hotkey=2 {
	set file="AcronisTrueImage2016.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/dat2.dat force_modules=usbhid quiet mbrcrcs=on
		initrd	(loop)/dat3.dat (loop)/dat4.dat
	fi
}
fi
menuentry "[3] Acronis Backup Advanced Universal 11.7 [64-bit]" --hotkey=3 {
	set file="AcronisBackupAdvancedUniversal.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux (loop)/abr64ker.dat product=bootagent media_for_windows quiet mbrcrcs=on
		initrd (loop)/abr64ram.dat (loop)/dat8.dat
	fi
}
if [ "$pc" ]; then
menuentry "[4] Acronis Backup Advanced Universal 11.7 [32-bit]" --hotkey=4 {
	set file="AcronisBackupAdvancedUniversal.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux (loop)/abr32ker.dat product=bootagent media_for_windows quiet mbrcrcs=on
		initrd (loop)/abr32ram.dat (loop)/dat4.dat
	fi
}
menuentry "[5] Symantec Ghost 11.5" --hotkey=5 {
	set path="/Files/DOS/"
	set file="Ghost.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		linux16 ${memdisk} iso raw
		initrd16 ${path}${file}
	fi
}
menuentry "[6] EaseUS Todo Backup Advanced Server 9.2" --hotkey=6 {
	set path="/Files/BackupRecovery/"
	set file="etbas.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=keep
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/bzImage root=/dev/ram0 rw vga=791
		initrd	(loop)/initrd.img
	fi
}
menuentry "[7] AOMEI Backupper TechPlus 3.2" --hotkey=7 {
	set path="/Files/BackupRecovery/"
	set file="amlnx.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=keep
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/bzImage root=/dev/ram0 rw vga=0x317 quiet
		initrd	(loop)/initrd.gz
	fi
}
fi
menuentry "[8] MiniTool Power Data Recovery 7" --hotkey=8 {
	set path="/Files/BackupRecovery/"
	set file="mpdr.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		set gfxpayload=keep
		loopback loop ${path}${file}
		linux	(loop)/casper/vmlinuz.efi boot=casper iso-scan/filename=${path}${file} quiet splash ---
		initrd	(loop)/casper/initrd.lz
	fi
}
submenu "[9] R-Drive Image" --hotkey=9 {
	set gfxpayload=normal
	set path="/Files/BackupRecovery/"
	set file="R-DriveImage.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		menuentry "[1] R-Drive Image Technician GUI (Graphic Mode) [64-bit]" --hotkey=1 {
			loopback loop ${path}${file}
			loopback ElTorito (loop)79280+80593
			set gfxpayload=800x600x24,800x600x16,800x600
			set root=(ElTorito)
			booting ${file} ${path}
			linux /kernel64 vga=normal rw acpi_osi=Linux acpi_backlight=vendor
			initrd /lrfsbase.bin /rm_scsi.b64 /rm_pata.b64 /rm_usb.b64 /rm_pcard.b64 /rm_video.b64 /rm_other.b64 /rootgui /rmconfig.bin
		}
		menuentry "[2] R-Drive Image Technician GUI (Safe EFI Mode) [64-bit]" --hotkey=2 {
			loopback loop ${path}${file}
			loopback ElTorito (loop)79280+80593
			set gfxpayload=800x600x24,800x600x16,800x600
			set root=(ElTorito)
			booting ${file} ${path}
			linux /kernel64 vga=normal rw acpi_osi=Linux acpi_backlight=vendor rgui_fbdev_only
			initrd /lrfsbase.bin /rm_scsi.b64 /rm_pata.b64 /rm_usb.b64 /rm_pcard.b64 /rm_other.b64 /rootgui /rmconfig.bin
		}
		menuentry "[3] R-Drive Image Technician TUI (Text Mode) [64-bit]" --hotkey=3 {
			loopback loop ${path}${file}
			loopback ElTorito (loop)79280+80593
			set gfxpayload=800x600x24,800x600x16,800x600
			set root=(ElTorito)
			booting ${file} ${path}
			linux /kernel64 vga=normal rw acpi_osi=Linux acpi_backlight=vendor
			initrd /lrfsbase.bin /rm_scsi.b64 /rm_pata.b64 /rm_usb.b64 /rm_pcard.b64 /rm_other.b64 /rootfs /rmconfig.bin
		}
		if [ "$pc" ]; then
			menuentry "[4] R-Drive Image Technician GUI (Graphic Mode) [32-bit]" --hotkey=4 {
				loopback loop ${path}${file}
				set root=(loop)
				booting ${file} ${path}
				linux /kernel32 vga=normal rw acpi_osi=Linux acpi_backlight=vendor
				initrd /lrfsbase.bin /rm_scsi.b32 /rm_pata.b32 /rm_usb.b32 /rm_pcard.b32 /rm_video.b32 /rm_other.b32 /rootgui /rmconfig.bin
			}
			menuentry "[5] R-Drive Image Technician GUI (Safe SVGA Mode) [32-bit]" --hotkey=5 {
				loopback loop ${path}${file}
				set root=(loop)
				booting ${file} ${path}
				linux /kernel32 vga=normal rw acpi_osi=Linux acpi_backlight=vendor rgui_video_mode_ask rgui_vesa_only rgui_video_mode=800x600@60
				initrd /lrfsbase.bin /rm_scsi.b32 /rm_pata.b32 /rm_usb.b32 /rm_pcard.b32 /rm_other.b32 /rootgui /rmconfig.bin
			}
			menuentry "[6] R-Drive Image Technician TUI (Text Mode) [32-bit]" --hotkey=6 {
				loopback loop ${path}${file}
				set root=(loop)
				booting ${file} ${path}
				linux /kernel32 vga=normal rw acpi_osi=Linux acpi_backlight=vendor 
				initrd /lrfsbase.bin /rm_scsi.b32 /rm_pata.b32 /rm_usb.b32 /rm_pcard.b32 /rm_other.b32 /rootfs /rmconfig.bin
			}
		fi
	fi
}
submenu "[a] Acronis Snap Deploy 5" --hotkey=a {
	set file="ASD5_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		menuentry "[1] Acronis Snap Deploy 5 Standalone Utility [64-bit]" --hotkey=1 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)529928+1038593
			linux (ElTorito)/dat4.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat5.dat
		}
		menuentry "[2] Acronis Snap Deploy 5 Master Image Creator [64-bit]" --hotkey=2 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)529928+1038593
			linux (ElTorito)/dat8.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat9.dat
		}
		menuentry "[3] Acronis Snap Deploy 5 Agent [64-bit]" --hotkey=3 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)529928+1038593
			linux (ElTorito)/dat16.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat17.dat
		}
		if [ "${grub_platform}" == "pc" ]; then
		menuentry "[4] Acronis Snap Deploy 5 Standalone Utility [32-bit]" --hotkey=4 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)208+529720
			linux (ElTorito)/dat2.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat3.dat
		}
		menuentry "[5] Acronis Snap Deploy 5 Master Image Creator [32-bit]" --hotkey=5 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)208+529720
			linux (ElTorito)/dat6.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat7.dat
		}
		menuentry "[6] Acronis Snap Deploy 5 Agent [32-bit]" --hotkey=6 {
			set gfxpayload=1024x768x32,1024x768
			booting ${file} ${path}
			loopback loop ${path}${file}
			loopback ElTorito (loop)208+529720
			linux (ElTorito)/dat14.dat quiet mbrcrcs=on
			initrd (ElTorito)/dat15.dat
		}
		fi
	fi
}
menuentry "[d] Clonezilla Live" --hotkey=d {
	set path="/Files/Linux/"
	set file="clonezilla-live-amd64.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/live/vmlinuz boot=live union=overlay username=user config components quiet noswap edd=on nomodeset nodmraid noeject locales= keyboard-layouts= ocs_live_run="ocs-live-general" ocs_live_extra_param="" ocs_live_batch=no vga=788 ip= net.ifnames=0 nosplash i915.blacklist=yes radeonhd.blacklist=yes nouveau.blacklist=yes vmwgfx.enable_fbdev=1 findiso=${path}${file}
		initrd	(loop)/live/initrd.img
	fi
}
menuentry "[f] Redo Backup and Recovery" --hotkey=f {
	set path="/Files/BackupRecovery/"
	set file="redobackup.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		loopback loop ${path}${file}
		linux	(loop)/casper/vmlinuz boot=casper iso-scan/filename=${path}${file} noprompt noeject
		initrd	(loop)/casper/initrd.lz
	fi
}
menuentry "[g] Acronis True Image 2015 [64-bit]" --hotkey=g {
	set file="AcronisTrueImage2015_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)325568+307689
		linux (ElTorito)/efi/boot/dat9.dat quiet force_modules=usbhid mbrcrcs=on
		initrd (ElTorito)/efi/boot/dat8.dat
	fi
}
menuentry "[h] Acronis True Image 2014 [64-bit]" --hotkey=h {
	set file="ATIH2014P_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)297896+285918
		linux (ElTorito)/efi/boot/dat9.dat quiet mbrcrcs=on
		initrd (ElTorito)/efi/boot/dat8.dat
	fi
}
menuentry "[i] Acronis True Image 2013 [64-bit]" --hotkey=i {
	set file="ATIH2013PP_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)264420+250006
		linux (ElTorito)/efi/boot/dat9.dat quiet mbrcrcs=on
		initrd (ElTorito)/efi/boot/dat8.dat
	fi
}
menuentry "[j] Acronis True Image 2012 [64-bit]" --hotkey=j {
	set file="ATIH2012PP_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)194608+172483
		linux (ElTorito)/efi/boot/dat9.dat quiet mbrcrcs=on
		initrd (ElTorito)/efi/boot/dat8.dat
	fi
}
if [ "$pc" ]; then
menuentry "[k] Acronis True Image 2015 [32-bit]" --hotkey=k {
	set file="AcronisTrueImage2015_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)212+325356
		linux (ElTorito)/dat3.dat force_modules=usbhid quiet mbrcrcs=on
		initrd (ElTorito)/dat2.dat
	fi
}
menuentry "[l] Acronis True Image 2014 [32-bit]" --hotkey=l {
	set file="ATIH2014P_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)208+297688
		linux (ElTorito)/dat3.dat quiet mbrcrcs=on
		initrd (ElTorito)/dat2.dat
	fi
}
menuentry "[m] Acronis True Image 2013 [32-bit]" --hotkey=m {
	set file="ATIH2013PP_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)208+264212
		linux (ElTorito)/dat3.dat quiet mbrcrcs=on
		initrd (ElTorito)/dat2.dat
	fi
}
menuentry "[n] Acronis True Image 2012 [32-bit]" --hotkey=n {
	set file="ATIH2012PP_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		set gfxpayload=1024x768x32,1024x768
		booting ${file} ${path}
		loopback loop ${path}${file}
		loopback ElTorito (loop)208+194400
		linux (ElTorito)/dat3.dat quiet mbrcrcs=on
		initrd (ElTorito)/dat2.dat
	fi
}
menuentry "[o] Acronis True Image 2011" --hotkey=o {
	set file="ATIH2011PP_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		linux16 ${memdisk} iso raw
		initrd16 ${path}${file}
	fi
}
menuentry "[p] Acronis Snap Deploy 4" --hotkey=p {
	set file="ASD4_en-US.iso"
	findfile ${file} ${path}
	if [ -e ${path}${file} ]; then
		booting ${file} ${path}
		linux16 ${memdisk} iso raw
		initrd16 ${path}${file}
	fi
}
fi
menuentry "[b] ${backcfg}" --hotkey=b {
	configfile ${prefix}/main.cfg
}